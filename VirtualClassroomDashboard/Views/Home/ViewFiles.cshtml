@model IEnumerable<VirtualClassroomDashboard.Models.CourseFileModel>
@{
    ViewData["Title"] = "Files";
    string CurrentUID = @TempData["UID"].ToString();
    if (@TempData["UT"].ToString() == "Student")
    {
        Layout = "_LayoutStudent";
    }
    else
    {
        Layout = "_LayoutEducator";
    }
}

<div class="one-hundred">
    <h1 class="mainHeading">@ViewData["Title"]</h1>
    <p>If you would like to format your own email of concern please contact: <a class="basicLinks" href="mailto: support@virtualclassroomdashboard.azurewebsites.net?subject=Issues or Concerns (Add your information here)&body=Message">Support. </a>If you would like to format your own comment emil please contact: <a class="basicLinks" href="mailto: info@virtualclassroomdashboard.azurewebsites.net?subject=IFeedback or Comments (Add your information here)&body=Message">Info.</a></p>
    <img class="centerDivide" src="~/images/centerDividers.png" alt="Virtual Classroom Dashboard Center Divider" />

    <h3>View/Add Files from @TempData["CourseName"]</h3>
    @if (@TempData["UT"].ToString() == "Teacher")
    {
        <p>@Html.ActionLink("Add Files", "CourseFiles")</p>
    }
    <p class="errorResponse">@ViewBag.Error</p>
    @{
        if (ViewBag.Message == "Please got to the Dashboard and Select a Course. There is no active course selected.")
        {
            <span style="color:red">@Html.Raw(ViewBag.Message)</span>
        }
        else
        {
            @if (Model != null)
            {

                <table class="tableDec">
                    <tr>
                        <th>File Name</th>
                        <th>File Subject</th>
                        <th>File Description</th>
                        <th></th>

                    </tr>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td><a href="@item.FIlePath@item.FileName" target="_blank" download>@item.FileName</a></td>
                            <td>@item.FileSubject</td>
                            <td>@item.FileDesc</td>
                            @if ((int.Parse(CurrentUID) == item.UserID) || @TempData["UT"].ToString() == "Teacher")
                            {
                                <td>@Html.ActionLink("Remove", "RemoveUserFile", new { id = item.UserID, fname = item.FileName, fpath = item.FIlePath, cid = item.CourseID })</td>
                            }
                        </tr>
                    }
                </table>
            }
            else
            {
                <p>No Files have been uploaded for this course.</p>
            }
        }
    }
    <div class="clear"></div>
</div>
<div class="clear"></div>